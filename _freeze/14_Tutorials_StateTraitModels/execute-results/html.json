{
  "hash": "60a6dd261d6e90c371c026e56193ae93",
  "result": {
    "markdown": "---\ntitle: \"State-Trait Models\"\nauthor: \"Biostatistics Working Group\"\n---\n\n\n## Overview\nState-Trait Models are a type of statistical model used to separate the variance in a given variable into two components: a stable, trait-like component and a time-specific, state-like component. In this tutorial, we will walk you through a simple example using a simulated dataset and demonstrate how to fit a State-Trait Model using the `lavaan` package in R.\n\n[+add diagrams/figures]\n\n### When to use State-Trait Models?\nYou should use xxxxxxx in the following scenario:\n\n1.\tYou want to know xxxxx\n2.\tYour variable xxxxx\n3.\tYou have xxxxx \n\n### Getting Started with State-Trait Models\n\n#### Prerequisites\nTo follow along with this tutorial, you will need to have R and RStudio installed on your computer. Additionally, you will need to install the `lavaan` package, which provides functions for fitting various structural equation models, including State-Trait Models.\n\n## Basic Example \n\n::: {.cell hash='14_Tutorials_StateTraitModels_cache/html/setup_1ce7a110ea85d5be6a292b2d414dcd5b'}\n\n```{.r .cell-code}\n# Install the lavaan package if not already installed\nif (!(\"lavaan\" %in% installed.packages())) {\n  install.packages(\"lavaan\")\n}\n```\n:::\n\n\n# Load the lavaan package\n\n::: {.cell hash='14_Tutorials_StateTraitModels_cache/html/unnamed-chunk-1_b2762cc39a40e174b7c1782b0749b329'}\n\n```{.r .cell-code}\nlibrary(lavaan)\n```\n:::\n\n\n## Simulating the Data\nFor this tutorial, we will use a simulated dataset with 300 individuals, each measured at four time points. The dataset will contain a variable with both state-like and trait-like components.\n\n\n::: {.cell hash='14_Tutorials_StateTraitModels_cache/html/unnamed-chunk-2_38d232e05c74fe1fbc7c110210562b5f'}\n\n```{.r .cell-code}\nset.seed(123)\nn <- 300\ntimepoints <- 4\n\n# Simulate the trait-like component\ntrait <- rnorm(n, mean = 100, sd = 10)\n\n# Simulate the state-like component\nstate <- matrix(rnorm(n * timepoints, mean = 0, sd = 5), nrow = n, ncol = timepoints)\n\n# Combine trait and state components\ndata <- data.frame(id = rep(1:n, each = timepoints),\n                   time = rep(1:timepoints, times = n),\n                   value = c(t(trait + state)))\n```\n:::\n\n\n### Model Specification and Estimation\nNow that we have our simulated data, we can fit a State-Trait Model using the lavaan package. The model will estimate the trait-like and state-like components for each individual.\n\n\n::: {.cell hash='14_Tutorials_StateTraitModels_cache/html/unnamed-chunk-3_e7b3b98be59a81ddc034f70560f344e4'}\n\n```{.r .cell-code}\n# Define the model\nmodel <- '\n  # Trait component\n  trait =~ 1 * value_t1 + 1 * value_t2 + 1 * value_t3 + 1 * value_t4\n\n  # State component\n  state =~ value_t1 + value_t2 + value_t3 + value_t4\n\n  # Residual variances\n  value_t1 ~~ value_t1\n  value_t2 ~~ value_t2\n  value_t3 ~~ value_t3\n  value_t4 ~~ value_t4\n'\n```\n:::\n\n::: {.cell hash='14_Tutorials_StateTraitModels_cache/html/unnamed-chunk-4_7c3c39b330c0bd3e7e65643721eb0f37'}\n\n```{.r .cell-code}\n# Reshape the data to wide format\ndata_wide <- reshape(data, idvar = \"id\", timevar = \"time\", direction = \"wide\")\n```\n:::\n\n::: {.cell hash='14_Tutorials_StateTraitModels_cache/html/unnamed-chunk-5_360997f15f735176f219891c4de7d25a'}\n\n```{.r .cell-code}\n# Fit the State-Trait Model\nfit <- sem(model, data = data_wide)\n```\n:::\n\n\n### Interpreting the Results\nNow that we have estimated our State-Trait Model, we can interpret the results. The key parameters of interest in this model are the trait-like and state-like components, which are the variances attributed to each component.\n\n\n::: {.cell hash='14_Tutorials_StateTraitModels_cache/html/unnamed-chunk-6_917d07b27ed2ce053d6a014d5e4bba05'}\n\n```{.r .cell-code}\n# Obtain the results\nsummary(fit)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}