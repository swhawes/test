{
  "hash": "1d9619fa2d620540137a33642b0b7d8c",
  "result": {
    "markdown": "---\ntitle: \"Difference Scores: Simple Regression\"\nauthor: \"Biostatistics Working Group\"\n---\n\n\n# Paired Samples T-test {.unnumbered}\n\n## Overview\n\n# Simple Regression {.unnumbered}\n\n## Overview\n\n<p>\n\nThis example will examine whether average change in CBCL externalizing scores from Basline (T0) to the 1-Year follow-up (T1) differs significantly between boys and girls taking part in the ABCD Study. This analysis is conducted in two primary steps: 1) computing a difference score (DiffScore = CBCL EXT T2 - CBCL EXT T1); 2) conducting a simple regression on the difference score. Our primary aim is to determine whether group membership (boys, girls) predict the average difference value in CBCL externalizing scores from T1 to T2.\n\n</p>\n\n## Preliminary Setup\n::: {.panel-tabset}\n### Install Packages {.tabset .tabset-fade .tabset-pills}\n<div class = \"blue\">\n\n> **This code installs the r packages necessary for this example, if they are not already installed**\n\n\n::: {.cell hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/unnamed-chunk-1_b5b8aacabad09c3ab1c0f0662e273a31'}\n\n:::\n\n</div>\n\n### Load Packages\n<div class = \"blue\">\n\n**This code loads the r libraries necessary for this example**\n\n\n::: {.cell messages='false' hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/pckg-load_61ced6d4289c47b1c83ead70e1145bb6'}\n\n```{.r .fold-hide .cell-code}\n#rm(list = ls())\n\n#Load packages\nlibrary(lme4)\nlibrary(lmerTest)\nlibrary(tidyverse)\nlibrary(arrow)\nlibrary(arsenal)\nlibrary(kableExtra)\nlibrary(rstatix)\nlibrary(ggpubr)\n```\n:::\n\n\n</div>\n\n### Config Options\n<div class = \"blue\">\n\n**This code configures knitr code chunk options**\n\n\n::: {.cell messages='false' hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/config_883c75346ef856d525c90a0aea246c61'}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(echo = T, message=F, warning=F, error=F, \n                                  comment=NA, cache=T, code_folding=T,\n                                  R.options=list(width=220), fig.align='center', \n                                  out.width='75%', fig.asp=.75)\n```\n:::\n\n</div>\n:::\n\n## Descriptives Overview\n::: {.panel-tabset}\n### Read and View Data {.tabset .tabset-fade .tabset-pills}\n<div class = \"blue\">\n\n**This code reads in and shows the data to be used in the current example**\n\n\n::: {.cell messages='false' hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/read-data_2d704bea778df9f610c6b5caed7712fb'}\n\n```{.r .cell-code}\n## Read data\ndf_long<- read_csv(\"/Users/shawes/Desktop/data/df_long.csv\")\ndf_wide <- read_csv(\"/Users/shawes/Desktop/data/df_wide.csv\")\nstr(df_wide)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nspc_tbl_ [99 Ã— 12] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ ids                 : num [1:99] 1 2 3 4 5 6 7 8 9 10 ...\n $ site_id             : chr [1:99] \"site06\" \"site06\" \"site06\" \"site10\" ...\n $ fam_id              : num [1:99] 8781 8781 8781 10210 10210 ...\n $ sex                 : chr [1:99] \"Female\" \"Female\" \"Female\" \"Female\" ...\n $ age                 : num [1:99] 9 10 9 9 9 10 10 10 10 9 ...\n $ mature_vg           : num [1:99] 0 1 0 1 0 0 0 1 1 0 ...\n $ vg_total_Year_1     : num [1:99] 7 7 7 7 4 0 4 1 1 2 ...\n $ vg_total_Baseline   : num [1:99] 4 7 4 2 42 0 4 2 2 2 ...\n $ vg_total_Year_2     : num [1:99] 1 1 2 0 3 0 2 2 7 3 ...\n $ cbcl_extern_Year_1  : num [1:99] 7 7 7 7 2 0 4 1 1 2 ...\n $ cbcl_extern_Baseline: num [1:99] 0 1 0 1 0 0 0 1 1 0 ...\n $ cbcl_extern_Year_2  : num [1:99] 7 7 7 7 4 6 4 4 2 2 ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   ids = col_double(),\n  ..   site_id = col_character(),\n  ..   fam_id = col_double(),\n  ..   sex = col_character(),\n  ..   age = col_double(),\n  ..   mature_vg = col_double(),\n  ..   vg_total_Year_1 = col_double(),\n  ..   vg_total_Baseline = col_double(),\n  ..   vg_total_Year_2 = col_double(),\n  ..   cbcl_extern_Year_1 = col_double(),\n  ..   cbcl_extern_Baseline = col_double(),\n  ..   cbcl_extern_Year_2 = col_double()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n```\n:::\n\n```{.r .cell-code}\n# set types\ndf_long$ids <- as.factor(df_long$ids)\ndf_long$event <- as.factor(df_long$event)\ndf_long$site_id <- as.factor(df_long$site_id)\ndf_long$fam_id <- as.factor(df_long$fam_id)\ndf_long$sex <- as.factor(df_long$sex)\ndf_long$age <- as.numeric(df_long$age)\ndf_long$mature_vg <- as.numeric(df_long$mature_vg)\ndf_long$cbcl_extern <- as.numeric(df_long$cbcl_extern)\ndf_long$vg_total <- as.numeric(df_long$vg_total)\n```\n:::\n\n\n</div>\n\n:::\n\n### Continuous Outcomes\n\n::: blue\n**This code creates a table of descriptive information for continuous\noutcomes**\n\n\n::: {.cell messages='false' hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/contvar-table_944219a0d7922eb5098855ab6c596f16'}\n\n```{.r .cell-code}\n## Create a descriptives table of study variables by measurement occasion \ntab_descriptives_1 <- tableby.control(test=FALSE, total=FALSE,\nnumeric.test=\"kwt\", cat.test=\"chisq\",\nnumeric.stats=c(\"N\", \"meansd\", \"median\", \"range\" \n), #\"Nmiss2\"\ncat.stats=c(\"countpct\"), #\"Nmiss2\"\nstats.labels=list(N='Count', meansd=\"Mean (SD)\", median\n='Median', range='Min - Max'\n))  # , Nmiss2 ='Missing'\n\nmy_cont_labels <- list(\n  age = \"Age\",\n  vg_total = \"Weekly # of Video Gaming Hrs\",\n  cbcl_extern = \"CBCL Externalizing Scale\"\n)\n\ntab_descriptives_1 <- tableby(event ~ age + vg_total + \n                                      cbcl_extern,\n                                      data=df_long, control=tab_descriptives_1)\n          \n#summary(tab_descriptives_1, labelTranslations = my_cont_labels , text=TRUE, title = #\"Continuous Outcomes\", term.name = TRUE)\n\n# Push table object through kable and kable_styling\ntab_descriptives_1 %>%\n                summary(text=TRUE, digits.pct=1, digits=1) %>%\n            kable(caption = \"Continuous Outcomes\") %>%\n  kable_styling(bootstrap_options = \"striped\", full_width = FALSE, html_font = \"Cambria\",\n                font_size = 15,\n                position = \"center\", fixed_thead = T) %>%\n  row_spec(2:3,  bold = F, extra_css = 'vertical-align: middle !important;') %>%\n  column_spec(1, width = \"20em\", background = \"light grey\", bold = T, border_right = T) %>%\n  column_spec(2, width = \"20em\", border_right = T) %>%\n            column_spec(3, width = \"20em\", border_right = T) %>%\n            footnote(general = \"Here is a general comments of the table. \") %>%\n            scroll_box(width = \"75%\", height = \"500px\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; overflow-x: scroll; width:75%; \"><table class=\"table table-striped\" style=\"font-size: 15px; font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;\">\n<caption style=\"font-size: initial !important;\">Continuous Outcomes</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;\">  </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;\"> Baseline (N=35) </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;\"> Year_1 (N=34) </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;\"> Year_2 (N=30) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> age </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\">  </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Count </td>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; border-right:1px solid;\"> 35 </td>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; border-right:1px solid;\"> 34 </td>\n   <td style=\"text-align:left;vertical-align: middle !important;\"> 30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Mean (SD) </td>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; border-right:1px solid;\"> 9.3 (0.5) </td>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; border-right:1px solid;\"> 9.5 (0.5) </td>\n   <td style=\"text-align:left;vertical-align: middle !important;\"> 9.6 (0.5) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Median </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 9.0 </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 9.5 </td>\n   <td style=\"text-align:left;\"> 10.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Min - Max </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 9.0 - 10.0 </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 9.0 - 10.0 </td>\n   <td style=\"text-align:left;\"> 9.0 - 10.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> vg_total </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\">  </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Count </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 35 </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 34 </td>\n   <td style=\"text-align:left;\"> 30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Mean (SD) </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 8.7 (8.4) </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 8.7 (8.1) </td>\n   <td style=\"text-align:left;\"> 6.8 (4.3) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Median </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 6.0 </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 7.0 </td>\n   <td style=\"text-align:left;\"> 7.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Min - Max </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 0.0 - 28.0 </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 0.0 - 28.0 </td>\n   <td style=\"text-align:left;\"> 1.0 - 16.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> cbcl_extern </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\">  </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Count </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 35 </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 34 </td>\n   <td style=\"text-align:left;\"> 30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Mean (SD) </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 4.8 (5.7) </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 5.5 (6.1) </td>\n   <td style=\"text-align:left;\"> 6.9 (6.9) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Median </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 3.0 </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 4.0 </td>\n   <td style=\"text-align:left;\"> 4.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Min - Max </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 0.0 - 21.0 </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 0.0 - 25.0 </td>\n   <td style=\"text-align:left;\"> 0.0 - 25.0 </td>\n  </tr>\n</tbody>\n<tfoot>\n<tr><td style=\"padding: 0; \" colspan=\"100%\"><span style=\"font-style: italic;\">Note: </span></td></tr>\n<tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Here is a general comments of the table. </td></tr>\n</tfoot>\n</table></div>\n\n`````\n:::\n:::\n\n:::\n\n### Categorical Outcomes\n\n::: blue\n**This code creates a descriptives table for categorical outcomes**\n      \n\n::: {.cell messages='false' hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/catvar-table_9a08c554b0d8a82159f015e3e00d98cd'}\n\n```{.r .fold-hide .cell-code}\n## Create a descriptives table of study variables by measurement occasion \ntab_descriptives_2  <- tableby.control(test=FALSE, total=FALSE,\nnumeric.test=\"kwt\", cat.test=\"chisq\",\nnumeric.stats=c(\"N\", \"meansd\", \"median\", \"range\"\n), # \"Nmiss2\"\ncat.stats=c(\"countpct\"), # \"Nmiss2\"\nstats.labels=list(N='Count', meansd=\"Mean (SD)\", median\n='Median', range='Min - Max'\n)) # , Nmiss2 ='Missing'\n\nmy_cat_labels  <- list(\n  event = \"Year\",\n  sex = \"Sex\",\n  mature_vg = \"Mature Video Games\"\n  )\n          \ntab_descriptives_2 <- tableby(event ~ sex + mature_vg, data=df_long, control=tab_descriptives_2)\n\n#summary(tab_descriptives_2, labelTranslations = my_cat_labels , text=TRUE, title = #\"Categorical Outcomes\", term.name = TRUE)\n\n# Push table object through kable and kable_styling\ntab_descriptives_2 %>%\n            summary(text=TRUE, digits.pct=1, digits=1) %>%\n            kable(caption = \"Categorical Outcomes\") %>%\n            kable_styling(bootstrap_options = \"striped\", full_width = FALSE, font_size = 15,\n                position = \"center\", fixed_thead = T) %>%\n  row_spec(2:3,  bold = F, extra_css = 'vertical-align: middle !important;') %>%\n  column_spec(1, width = \"20em\", background = \"light grey\", bold = T, border_right = T) %>%\n            column_spec(2, width = \"20em\", border_right = T) %>%\n  #column_spec(3, width = \"20em\", border_right = T) %>%\n  footnote(general = \"Here is a general comments of the table. \") %>%\n  scroll_box(width = \"75%\", height = \"500px\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; overflow-x: scroll; width:75%; \"><table class=\"table table-striped\" style=\"font-size: 15px; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;\">\n<caption style=\"font-size: initial !important;\">Categorical Outcomes</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;\">  </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;\"> Baseline (N=35) </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;\"> Year_1 (N=34) </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;\"> Year_2 (N=30) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> sex </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Female </td>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; border-right:1px solid;\"> 19 (54.3%) </td>\n   <td style=\"text-align:left;vertical-align: middle !important;\"> 20 (58.8%) </td>\n   <td style=\"text-align:left;vertical-align: middle !important;\"> 17 (56.7%) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Male </td>\n   <td style=\"text-align:left;vertical-align: middle !important;width: 20em; border-right:1px solid;\"> 16 (45.7%) </td>\n   <td style=\"text-align:left;vertical-align: middle !important;\"> 14 (41.2%) </td>\n   <td style=\"text-align:left;vertical-align: middle !important;\"> 13 (43.3%) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> mature_vg </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Count </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 35 </td>\n   <td style=\"text-align:left;\"> 34 </td>\n   <td style=\"text-align:left;\"> 30 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Mean (SD) </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 0.6 (0.9) </td>\n   <td style=\"text-align:left;\"> 1.7 (6.3) </td>\n   <td style=\"text-align:left;\"> 0.6 (0.9) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Median </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 0.0 </td>\n   <td style=\"text-align:left;\"> 0.0 </td>\n   <td style=\"text-align:left;\"> 0.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 20em; font-weight: bold;background-color: light grey !important;border-right:1px solid;\"> -  Min - Max </td>\n   <td style=\"text-align:left;width: 20em; border-right:1px solid;\"> 0.0 - 3.0 </td>\n   <td style=\"text-align:left;\"> 0.0 - 37.0 </td>\n   <td style=\"text-align:left;\"> 0.0 - 3.0 </td>\n  </tr>\n</tbody>\n<tfoot>\n<tr><td style=\"padding: 0; \" colspan=\"100%\"><span style=\"font-style: italic;\">Note: </span></td></tr>\n<tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Here is a general comments of the table. </td></tr>\n</tfoot>\n</table></div>\n\n`````\n:::\n:::\n\n:::\n:::\n\n## Results\n\n<div class = \"blue\">\n\n::: panel-tabset\n### Build Model {.tabset .tabset-fade .tabset-pills}\n\n::: blue\n\nThe code snippet below tells R to compute a difference score by subtracting each participant's Externalizing score at T2 from their Externalizing score at T1. \nNext, a simple regression analyses is conducted to examine whether a grouping variable (participant sex) significantly predicts the difference score value (indicating significant group differences in the average difference score). The simple regression function (lm) is provided by the r 'stats' package.\n\nxxx\nFirst, compute the difference ($\\Delta$) between a score on some measure ($x$) assessed at baseline ($x_{t1}$) and follow-up ($x_{t2}$). The result of this formula ($\\Delta$=$x_{t2}$ - $x_{t1}$) can be included as the outcome variable in a regression model that analyzes the role of the grouping variable (e.g., 0 = boy; 1 = girl) on changes in scores on the measure across follow-ups.\nxxx\n\n**STEP 1: Compute Difference Score**\n\n::: {.cell hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/build-model-1_8c3a28821126dd9cdad1f95d8fc6da2a'}\n\n```{.r .fold-hide .cell-code}\n# Compute difference score based on CBCL Externalizing subscale scores at baseline (t1) and 1-Year Follow-up (t2)\ndf_wide$diffscore <- (df_wide$cbcl_extern_Year_1 - df_wide$cbcl_extern_Baseline)\n```\n:::\n\n::: {.cell hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/model-checking_0b94f2e0b009057b2db8c704e2a43cfe'}\n\n```{.r .cell-code}\n# Compute statistical summaries for the difference score variable\nsummary(df_wide$diffscore)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n-27.000   1.000   5.000   5.576   8.000  33.000 \n```\n:::\n:::\n\n\nThis summary of the difference score variable indicates xxxxx.\n\n\n::: {.cell hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/unnamed-chunk-2_70426409ae17d6cd7d55b4c3794bf1f3'}\n\n```{.r .cell-code}\nhist(df_long$vg_total)\n```\n\n::: {.cell-output-display}\n![](1b_HowTos_DifferenceScores_SimpleRegression_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\n## Summary statistics\nsummary<-df_long %>%\ngroup_by(event) %>%\nget_summary_stats(cbcl_extern, type = \"mean_sd\")\ndata.frame(summary)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"event\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"variable\"],\"name\":[2],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"n\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mean\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"sd\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Baseline\",\"2\":\"cbcl_extern\",\"3\":\"35\",\"4\":\"4.771\",\"5\":\"5.678\"},{\"1\":\"Year_1\",\"2\":\"cbcl_extern\",\"3\":\"34\",\"4\":\"5.529\",\"5\":\"6.091\"},{\"1\":\"Year_2\",\"2\":\"cbcl_extern\",\"3\":\"30\",\"4\":\"6.867\",\"5\":\"6.897\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nThis histogram indicates xxxxxx. The summary command shows xxxxxx.\n\n\n::: {.cell hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/shapiro-wilks_184e5ad106171fdd06bcb0a8f21153d1'}\n\n```{.r .cell-code}\n### Shapiro-Wilk test and normality (Q-Q) plot (visualization of correlation between a given sample and the normal distribution)\nshapiro.test(df_wide$cbcl_extern_Baseline[0:5000])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  df_wide$cbcl_extern_Baseline[0:5000]\nW = 0.67151, p-value = 1.452e-13\n```\n:::\n:::\n\n  \nThis Shapiro-wilkes test shows xxxxxx.\n\n\n::: {.cell hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/qqplot_164f80df0a4fe5ca030dc99b53cf1a58'}\n\n```{.r .cell-code}\nqqplot <- ggqqplot(df_wide$cbcl_extern_Baseline,\n    ylab = \"Externalizing Difference Score\", xlab = FALSE,\n    ggtheme = theme_minimal()\n)\n\nsuppressWarnings(print(qqplot)) \n```\n\n::: {.cell-output-display}\n![](1b_HowTos_DifferenceScores_SimpleRegression_files/figure-html/qqplot-1.png){width=672}\n:::\n:::\n\n\nThis qqplot shows xxxxxx.\n\n**STEP 2: Conduct simple regression on Difference Score**\n\n::: {.cell hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/build-model-2_c6d9b5e5e993f7716675b1592652b3db'}\n\n```{.r .fold-hide .cell-code}\n#Simple linear regression is used to examine the relationship between a continuous predictor variable and the average difference score.\n\n#Regression model\nresult <- lm(df_wide$diffscore ~ vg_total_Baseline, data = df_wide)\n#summarize the reults\nsummary(result)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = df_wide$diffscore ~ vg_total_Baseline, data = df_wide)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-32.022  -4.685  -0.387   2.091  28.315 \n\nCoefficients:\n                  Estimate Std. Error t value Pr(>|t|)    \n(Intercept)        4.57285    1.18272   3.866   0.0002 ***\nvg_total_Baseline  0.11219    0.08052   1.393   0.1667    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 9.337 on 97 degrees of freedom\nMultiple R-squared:  0.01962,\tAdjusted R-squared:  0.009511 \nF-statistic: 1.941 on 1 and 97 DF,  p-value: 0.1667\n```\n:::\n:::\n\n\nThe output from our model provides: i. a parameter estimate; ii. standard error; iii. p-value. In our example p = .001 which is less than .05 indicating significant differences in predicted cbcl externalizing scores between boys and girls in the ABCD Study. An examination of the regression coeefficient for sex (female = 0; male = 1) is b = .xx, indicating the difference in cbcl externalizing scores from Time 1 to Time 2 is significantly greater in boys taking part in the ABCD Study relative to girls. Then we conclude that participant sex (does/does not) predict change in cbcl externalizing scores from t1 to t2.\n\n### Model Plots\n\n::: blue\n\n::: {.cell messages='false' hash='1b_HowTos_DifferenceScores_SimpleRegression_cache/html/scatterplot_246a7c5d61611a2c0767a752d3fa72aa'}\n\n```{.r .cell-code  code-summary=\"testing\"}\n#Scatterplot to visualize relationship between a continuous predictor and a difference score\nscatterplot <- ggplot (df_wide, aes(x = diffscore, y = vg_total_Baseline)) + geom_point(size = 3) + geom_smooth(method = lm, se = F) +\nxlab(\"Difference Score (x)\") +\nylab(\"Screentime hours (y) Baseline\")\n\nsuppressWarnings(print(scatterplot))\n```\n\n::: {.cell-output-display}\n![](1b_HowTos_DifferenceScores_SimpleRegression_files/figure-html/scatterplot-1.png){width=672}\n:::\n:::\n\n\nExamination of this scatterplot indicates xxxxx.\n:::\n\n> This output shows xxxxxxxx. Briefly walk through each metric\n:::\n\n## Wrapping Up\n<div class = \"blue\">\n\n<div class = \"blue\">\n\n::: panel-tabset\n### Write-up {.tabset .tabset-fade .tabset-pills}\n\n::: blue\n\nA simple regression analysis was conducted to examine whether participant's sex predicted change in cbcl externalzing scores measured across two timepoints. Findings showed a significant positive effect such that boys demonstrated increases in cbcl externalzing scores relative to girls (b = .xx; SE = .xx; p = .xx)  \n\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}